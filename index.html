<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Life Planner</title>
  <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header>
    <div class="container header-flex">
      <h1>Campus Life Planner</h1>
      <nav aria-label="Main Navigation">
        <ul>
          <li><a href="#dashboard">Dashboard</a></li>
          <li><a href="#planner">Planner</a></li>
          <li><a href="#settings">Settings</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content" class="container">
    <div id="aria-live-region" class="sr-only" aria-live="polite" role="status"></div>

    <section id="dashboard" aria-labelledby="dash-heading">
      <h2 id="dash-heading">Dashboard & Stats</h2>
      <div class="stats-grid">
        <div class="stat-card">Total Tasks: <span id="stat-total">0</span></div>
        <div class="stat-card">Total Time: <span id="stat-duration">0</span> min</div>
        <div class="stat-card">Top Tag: <span id="stat-tag">None</span></div>
        <div class="stat-card">Cap Status: <span id="stat-cap">Under Limit</span></div>
      </div>
    </section>

    <section id="planner" aria-labelledby="planner-heading">
      <h2 id="planner-heading">Manage Tasks</h2>
      
      <div class="panel">
        <h3>Add / Edit Task</h3>
        <form id="task-form" novalidate>
          <input type="hidden" id="task-id">
          
          <div class="form-group">
            <label for="title">Task Title</label>
            <input type="text" id="title" required placeholder="e.g., CS101 Assignment">
            <span class="error-msg" id="error-title"></span>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="dueDate">Due Date</label>
              <input type="date" id="dueDate" required>
              <span class="error-msg" id="error-dueDate"></span>
            </div>
            
            <div class="form-group">
              <label for="duration">Duration (minutes)</label>
              <input type="number" id="duration" required min="1" step="0.1">
              <span class="error-msg" id="error-duration"></span>
            </div>
            
            <div class="form-group">
              <label for="tag">Tag</label>
              <input type="text" id="tag" required placeholder="e.g., Study">
              <span class="error-msg" id="error-tag"></span>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Save Task</button>
          <button type="reset" class="btn btn-secondary" id="btn-reset">Cancel</button>
        </form>
      </div>

      <div class="panel">
        <div class="search-bar">
          <label for="search-input">Regex Search:</label>
          <input type="text" id="search-input" placeholder="e.g., ^@tag:\w+">
          <label><input type="checkbox" id="search-case" checked> Case Insensitive</label>
        </div>

        <div class="table-responsive">
          <table id="tasks-table">
            <thead>
              <tr>
                <th><button class="sort-btn" data-sort="title">Title ↕</button></th>
                <th><button class="sort-btn" data-sort="dueDate">Date ↕</button></th>
                <th><button class="sort-btn" data-sort="duration">Duration ↕</button></th>
                <th>Tag</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="tasks-tbody">
              </tbody>
          </table>
        </div>
      </div>
    </section>

    <div class="split-section">
      <section id="settings" aria-labelledby="settings-heading">
        <h2 id="settings-heading">Settings</h2>
        <div class="panel">
          <label for="time-cap">Weekly Time Cap (minutes):</label>
          <input type="number" id="time-cap" value="1200">
          <button id="btn-export" class="btn btn-secondary">Export JSON</button>
          <label for="btn-import" class="btn btn-secondary import-label">Import JSON</label>
          <input type="file" id="btn-import" accept=".json" class="sr-only">
        </div>
      </section>

      <section id="about" aria-labelledby="about-heading">
        <h2 id="about-heading">About</h2>
        <div class="panel">
          <p>Campus Life Planner helps students manage time effectively.</p>
          <p>Created by: <strong>Benito Isingizwe</strong></p>
          <p>Contact: <a href="mailto:you@example.com">i.benito@alustudent.com</a> | <a href="https://github.com/ibenito-cpu" target="_blank">GitHub</a></p>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2026 Campus Life Planner. All rights reserved.</p>
    </div>
  </footer>

  <script type="module" src="./scripts/app.js"></script>
</body>
</html>